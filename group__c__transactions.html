<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libmdbx: Transactions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libmdbx
   &#160;<span id="projectnumber">Please fetch tags and/or use non-obsolete git version.Please fetch tags and/or use non-obsolete git version.Please fetch tags and/or use non-obsolete git version.0 (2022-04-13T11:05:50+03:00)</span>
   </div>
   <div id="projectbrief">One of the fastest compact embeddable key-value ACID database without WAL.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__c__transactions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Transactions<div class="ingroups"><a class="el" href="group__c__api.html">C API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gad3eb5aa2a23beb3dc6274c46dc236546"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a></td></tr>
<tr class="memdesc:gad3eb5aa2a23beb3dc6274c46dc236546"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque structure for a transaction handle.  <a href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">More...</a><br /></td></tr>
<tr class="separator:gad3eb5aa2a23beb3dc6274c46dc236546"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga6ddf4a553ef12632520817465f53d0d6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga6ddf4a553ef12632520817465f53d0d6">MDBX_txn_flags_t</a> { <br />
&#160;&#160;<a class="el" href="group__c__transactions.html#gga6ddf4a553ef12632520817465f53d0d6ae90b953ba7bf0066da97b3633c020ed3">MDBX_TXN_READWRITE</a> = 0, 
<a class="el" href="group__c__transactions.html#gga6ddf4a553ef12632520817465f53d0d6a0e14b5c92c691efc83e351a2211f7bb2">MDBX_TXN_RDONLY</a> = MDBX_RDONLY, 
<a class="el" href="group__c__transactions.html#gga6ddf4a553ef12632520817465f53d0d6aacdd54642f8085c8af3b7a577bc0f54b">MDBX_TXN_RDONLY_PREPARE</a> = MDBX_RDONLY | MDBX_NOMEMINIT, 
<a class="el" href="group__c__transactions.html#gga6ddf4a553ef12632520817465f53d0d6afa6d366d8dab5bfc20b69789b54172fa">MDBX_TXN_TRY</a> = UINT32_C(0x10000000), 
<br />
&#160;&#160;<a class="el" href="group__c__transactions.html#gga6ddf4a553ef12632520817465f53d0d6a2c7655607ad39127953df54435538c7f">MDBX_TXN_NOMETASYNC</a> = MDBX_NOMETASYNC, 
<a class="el" href="group__c__transactions.html#gga6ddf4a553ef12632520817465f53d0d6ad3aa95a49a7249df96be07ffeff0412c">MDBX_TXN_NOSYNC</a> = MDBX_SAFE_NOSYNC
<br />
 }</td></tr>
<tr class="separator:ga6ddf4a553ef12632520817465f53d0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2cfa3a3e97def47cafb4bc9b9e13da3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga2cfa3a3e97def47cafb4bc9b9e13da3d">mdbx_txn_begin_ex</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *parent, <a class="el" href="group__c__transactions.html#ga6ddf4a553ef12632520817465f53d0d6">MDBX_txn_flags_t</a> flags, <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> **txn, void *context)</td></tr>
<tr class="memdesc:ga2cfa3a3e97def47cafb4bc9b9e13da3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a transaction with a user provided context pointer for use with the environment.  <a href="group__c__transactions.html#ga2cfa3a3e97def47cafb4bc9b9e13da3d">More...</a><br /></td></tr>
<tr class="separator:ga2cfa3a3e97def47cafb4bc9b9e13da3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9621bd463ec9efb2373f25dfb016938a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *parent, <a class="el" href="group__c__transactions.html#ga6ddf4a553ef12632520817465f53d0d6">MDBX_txn_flags_t</a> flags, <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> **txn)</td></tr>
<tr class="memdesc:ga9621bd463ec9efb2373f25dfb016938a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a transaction for use with the environment.  <a href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">More...</a><br /></td></tr>
<tr class="separator:ga9621bd463ec9efb2373f25dfb016938a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2166d11669c64307195788186b090e41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga2166d11669c64307195788186b090e41">mdbx_txn_set_userctx</a> (<a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn, void *ctx)</td></tr>
<tr class="memdesc:ga2166d11669c64307195788186b090e41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets application information associated (a context pointer) with the transaction.  <a href="group__c__transactions.html#ga2166d11669c64307195788186b090e41">More...</a><br /></td></tr>
<tr class="separator:ga2166d11669c64307195788186b090e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf08d931ce9ee4d602937181947a6789a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#gad5691bbd85b2cd95f66e527e46b50d3e">MDBX_NOTHROW_PURE_FUNCTION</a> <a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#gaf08d931ce9ee4d602937181947a6789a">mdbx_txn_get_userctx</a> (const <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="memdesc:gaf08d931ce9ee4d602937181947a6789a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an application information (a context pointer) associated with the transaction.  <a href="group__c__transactions.html#gaf08d931ce9ee4d602937181947a6789a">More...</a><br /></td></tr>
<tr class="separator:gaf08d931ce9ee4d602937181947a6789a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecaef6dc658fe61f3dd25c9dfcd805f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#gad5691bbd85b2cd95f66e527e46b50d3e">MDBX_NOTHROW_PURE_FUNCTION</a> <a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> <a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#gaecaef6dc658fe61f3dd25c9dfcd805f5">mdbx_txn_env</a> (const <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="memdesc:gaecaef6dc658fe61f3dd25c9dfcd805f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the transaction's MDBX_env.  <a href="group__c__transactions.html#gaecaef6dc658fe61f3dd25c9dfcd805f5">More...</a><br /></td></tr>
<tr class="separator:gaecaef6dc658fe61f3dd25c9dfcd805f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae026cce09969d2562cec28a6335f066"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#gad5691bbd85b2cd95f66e527e46b50d3e">MDBX_NOTHROW_PURE_FUNCTION</a> <a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#gaae026cce09969d2562cec28a6335f066">mdbx_txn_flags</a> (const <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="memdesc:gaae026cce09969d2562cec28a6335f066"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the transaction's flags.  <a href="group__c__transactions.html#gaae026cce09969d2562cec28a6335f066">More...</a><br /></td></tr>
<tr class="separator:gaae026cce09969d2562cec28a6335f066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3146a36cf1d0603cc6e3d52e97ec38a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga3146a36cf1d0603cc6e3d52e97ec38a9">mdbx_txn_commit</a> (<a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="memdesc:ga3146a36cf1d0603cc6e3d52e97ec38a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit all the operations of a transaction into the database.  <a href="group__c__transactions.html#ga3146a36cf1d0603cc6e3d52e97ec38a9">More...</a><br /></td></tr>
<tr class="separator:ga3146a36cf1d0603cc6e3d52e97ec38a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9773fd77d15cc810fc4eff0060f1a596"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort</a> (<a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="memdesc:ga9773fd77d15cc810fc4eff0060f1a596"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abandon all the operations of the transaction instead of saving them.  <a href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">More...</a><br /></td></tr>
<tr class="separator:ga9773fd77d15cc810fc4eff0060f1a596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04465e60a2337ce8472274b1a580b7fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga04465e60a2337ce8472274b1a580b7fc">mdbx_txn_break</a> (<a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="memdesc:ga04465e60a2337ce8472274b1a580b7fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks transaction as broken.  <a href="group__c__transactions.html#ga04465e60a2337ce8472274b1a580b7fc">More...</a><br /></td></tr>
<tr class="separator:ga04465e60a2337ce8472274b1a580b7fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9f34737fe60b0ba538d5a09b6a25c8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#gae9f34737fe60b0ba538d5a09b6a25c8d">mdbx_txn_reset</a> (<a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="memdesc:gae9f34737fe60b0ba538d5a09b6a25c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset a read-only transaction.  <a href="group__c__transactions.html#gae9f34737fe60b0ba538d5a09b6a25c8d">More...</a><br /></td></tr>
<tr class="separator:gae9f34737fe60b0ba538d5a09b6a25c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3cd3707d0154f81f7f73484068246d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#gaf3cd3707d0154f81f7f73484068246d1">mdbx_txn_renew</a> (<a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="memdesc:gaf3cd3707d0154f81f7f73484068246d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renew a read-only transaction.  <a href="group__c__transactions.html#gaf3cd3707d0154f81f7f73484068246d1">More...</a><br /></td></tr>
<tr class="separator:gaf3cd3707d0154f81f7f73484068246d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gad3eb5aa2a23beb3dc6274c46dc236546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3eb5aa2a23beb3dc6274c46dc236546">&#9670;&nbsp;</a></span>MDBX_txn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opaque structure for a transaction handle. </p>
<p>All database operations require a transaction handle. Transactions may be read-only or read-write. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a" title="Create a transaction for use with the environment.">mdbx_txn_begin()</a> </dd>
<dd>
<a class="el" href="group__c__transactions.html#ga3146a36cf1d0603cc6e3d52e97ec38a9" title="Commit all the operations of a transaction into the database.">mdbx_txn_commit()</a> </dd>
<dd>
<a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596" title="Abandon all the operations of the transaction instead of saving them.">mdbx_txn_abort()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga6ddf4a553ef12632520817465f53d0d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ddf4a553ef12632520817465f53d0d6">&#9670;&nbsp;</a></span>MDBX_txn_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__c__transactions.html#ga6ddf4a553ef12632520817465f53d0d6">MDBX_txn_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transaction flags</p>
<p><a class="anchor" id="txn_flags"></a></p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a" title="Create a transaction for use with the environment.">mdbx_txn_begin()</a> </dd>
<dd>
<a class="el" href="group__c__transactions.html#gaae026cce09969d2562cec28a6335f066" title="Return the transaction&#39;s flags.">mdbx_txn_flags()</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga6ddf4a553ef12632520817465f53d0d6ae90b953ba7bf0066da97b3633c020ed3"></a>MDBX_TXN_READWRITE&#160;</td><td class="fielddoc"><p>Start read-write transaction.</p>
<p>Only one write transaction may be active at a time. Writes are fully serialized, which guarantees that writers can never deadlock. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6ddf4a553ef12632520817465f53d0d6a0e14b5c92c691efc83e351a2211f7bb2"></a>MDBX_TXN_RDONLY&#160;</td><td class="fielddoc"><p>Start read-only transaction.</p>
<p>There can be multiple read-only transactions simultaneously that do not block each other and a write transactions. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6ddf4a553ef12632520817465f53d0d6aacdd54642f8085c8af3b7a577bc0f54b"></a>MDBX_TXN_RDONLY_PREPARE&#160;</td><td class="fielddoc"><p>Prepare but not start read-only transaction.</p>
<p>Transaction will not be started immediately, but created transaction handle will be ready for use with <a class="el" href="group__c__transactions.html#gaf3cd3707d0154f81f7f73484068246d1">mdbx_txn_renew()</a>. This flag allows to preallocate memory and assign a reader slot, thus avoiding these operations at the next start of the transaction. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6ddf4a553ef12632520817465f53d0d6afa6d366d8dab5bfc20b69789b54172fa"></a>MDBX_TXN_TRY&#160;</td><td class="fielddoc"><p>Do not block when starting a write transaction. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6ddf4a553ef12632520817465f53d0d6a2c7655607ad39127953df54435538c7f"></a>MDBX_TXN_NOMETASYNC&#160;</td><td class="fielddoc"><p>Exactly the same as <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a323dae93247c4977621be38614d77b38">MDBX_NOMETASYNC</a>, but for this transaction only </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6ddf4a553ef12632520817465f53d0d6ad3aa95a49a7249df96be07ffeff0412c"></a>MDBX_TXN_NOSYNC&#160;</td><td class="fielddoc"><p>Exactly the same as <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a>, but for this transaction only </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9773fd77d15cc810fc4eff0060f1a596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9773fd77d15cc810fc4eff0060f1a596">&#9670;&nbsp;</a></span>mdbx_txn_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_abort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abandon all the operations of the transaction instead of saving them. </p>
<p>The transaction handle is freed. It and its cursors must not be used again after this call, except with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> and <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>.</p>
<p>If the current thread is not eligible to manage the transaction then the <a class="el" href="group__c__err.html#ggab5ba1469eef28a2e09ed243b608b11cea7f9a4b39c6651951ab40a33641eb8279">MDBX_THREAD_MISMATCH</a> error will returned. Otherwise the transaction will be aborted and its handle is freed. Thus, a result other than <a class="el" href="group__c__err.html#ggab5ba1469eef28a2e09ed243b608b11cea7f9a4b39c6651951ab40a33641eb8279">MDBX_THREAD_MISMATCH</a> means that the transaction is terminated:</p><ul>
<li>Resources are released;</li>
<li>Transaction handle is invalid;</li>
<li>Cursor(s) associated with transaction must not be used, except with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> and <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>. Such cursor(s) must be closed explicitly by <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a> before or after transaction abort, either can be reused with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> until it will be explicitly closed by <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_BAD_TXN</td><td>Transaction is already finished or never began. </td></tr>
    <tr><td class="paramname">MDBX_EBADSIGN</td><td>Transaction object has invalid signature, e.g. transaction was already terminated or memory was corrupted. </td></tr>
    <tr><td class="paramname">MDBX_THREAD_MISMATCH</td><td>Given transaction is not owned by current thread. </td></tr>
    <tr><td class="paramname">MDBX_EINVAL</td><td>Transaction handle is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9621bd463ec9efb2373f25dfb016938a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9621bd463ec9efb2373f25dfb016938a">&#9670;&nbsp;</a></span>mdbx_txn_begin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mdbx_txn_begin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#ga6ddf4a553ef12632520817465f53d0d6">MDBX_txn_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> **&#160;</td>
          <td class="paramname"><em>txn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a transaction for use with the environment. </p>
<p>The transaction handle may be discarded using <a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort()</a> or <a class="el" href="group__c__transactions.html#ga3146a36cf1d0603cc6e3d52e97ec38a9">mdbx_txn_commit()</a>. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__transactions.html#ga2cfa3a3e97def47cafb4bc9b9e13da3d" title="Create a transaction with a user provided context pointer for use with the environment.">mdbx_txn_begin_ex()</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>A transaction and its cursors must only be used by a single thread, and a thread may only have a single transaction at a time. If <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a79e1de212a2f3a1018c2da2c4b511cb8">MDBX_NOTLS</a> is in use, this does not apply to read-only transactions.</dd>
<dd>
Cursors may not span transactions.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>If this parameter is non-NULL, the new transaction will be a nested transaction, with the transaction indicated by parent as its parent. Transactions may be nested to any level. A parent transaction and its cursors may not issue any other operations than mdbx_txn_commit and <a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort()</a> while it has active child transactions.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Special options for this transaction. This parameter must be set to 0 or by bitwise OR'ing together one or more of the values described here:<ul>
<li><a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061adc513be607ba103d642f49afc2d50e50">MDBX_RDONLY</a> This transaction will not perform any write operations.</li>
<li><a class="el" href="group__c__transactions.html#gga6ddf4a553ef12632520817465f53d0d6afa6d366d8dab5bfc20b69789b54172fa">MDBX_TXN_TRY</a> Do not block when starting a write transaction.</li>
<li><a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a>, <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a323dae93247c4977621be38614d77b38">MDBX_NOMETASYNC</a>. Do not sync data to disk corresponding to <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a323dae93247c4977621be38614d77b38">MDBX_NOMETASYNC</a> or <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a> description. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__sync__modes.html">SYNC MODES</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">txn</td><td>Address where the new <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> handle will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_UNABLE_EXTEND_MAPSIZE</td><td>Another process wrote data beyond this MDBX_env's mapsize and this environment map must be resized as well. See <a class="el" href="group__c__settings.html#gaed9eb291552790f75087b3b097134ae0">mdbx_env_set_mapsize()</a>. </td></tr>
    <tr><td class="paramname">MDBX_READERS_FULL</td><td>A read-only transaction was requested and the reader lock table is full. See <a class="el" href="group__c__settings.html#gadefa6e24ea453f2631fb6cc7871cfda6">mdbx_env_set_maxreaders()</a>. </td></tr>
    <tr><td class="paramname">MDBX_ENOMEM</td><td>Out of memory. </td></tr>
    <tr><td class="paramname">MDBX_BUSY</td><td>The write transaction is already started by the current thread. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2cfa3a3e97def47cafb4bc9b9e13da3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2cfa3a3e97def47cafb4bc9b9e13da3d">&#9670;&nbsp;</a></span>mdbx_txn_begin_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_begin_ex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#ga6ddf4a553ef12632520817465f53d0d6">MDBX_txn_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> **&#160;</td>
          <td class="paramname"><em>txn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a transaction with a user provided context pointer for use with the environment. </p>
<p>The transaction handle may be discarded using <a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort()</a> or <a class="el" href="group__c__transactions.html#ga3146a36cf1d0603cc6e3d52e97ec38a9">mdbx_txn_commit()</a>. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a" title="Create a transaction for use with the environment.">mdbx_txn_begin()</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>A transaction and its cursors must only be used by a single thread, and a thread may only have a single transaction at a time. If <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a79e1de212a2f3a1018c2da2c4b511cb8">MDBX_NOTLS</a> is in use, this does not apply to read-only transactions.</dd>
<dd>
Cursors may not span transactions.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>If this parameter is non-NULL, the new transaction will be a nested transaction, with the transaction indicated by parent as its parent. Transactions may be nested to any level. A parent transaction and its cursors may not issue any other operations than mdbx_txn_commit and <a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort()</a> while it has active child transactions.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Special options for this transaction. This parameter must be set to 0 or by bitwise OR'ing together one or more of the values described here:<ul>
<li><a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061adc513be607ba103d642f49afc2d50e50">MDBX_RDONLY</a> This transaction will not perform any write operations.</li>
<li><a class="el" href="group__c__transactions.html#gga6ddf4a553ef12632520817465f53d0d6afa6d366d8dab5bfc20b69789b54172fa">MDBX_TXN_TRY</a> Do not block when starting a write transaction.</li>
<li><a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a>, <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a323dae93247c4977621be38614d77b38">MDBX_NOMETASYNC</a>. Do not sync data to disk corresponding to <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a323dae93247c4977621be38614d77b38">MDBX_NOMETASYNC</a> or <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a> description. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__sync__modes.html">SYNC MODES</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">txn</td><td>Address where the new <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> handle will be stored.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>A pointer to application context to be associated with created transaction and could be retrieved by <a class="el" href="group__c__transactions.html#gaf08d931ce9ee4d602937181947a6789a">mdbx_txn_get_userctx()</a> until transaction finished.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_UNABLE_EXTEND_MAPSIZE</td><td>Another process wrote data beyond this MDBX_env's mapsize and this environment map must be resized as well. See <a class="el" href="group__c__settings.html#gaed9eb291552790f75087b3b097134ae0">mdbx_env_set_mapsize()</a>. </td></tr>
    <tr><td class="paramname">MDBX_READERS_FULL</td><td>A read-only transaction was requested and the reader lock table is full. See <a class="el" href="group__c__settings.html#gadefa6e24ea453f2631fb6cc7871cfda6">mdbx_env_set_maxreaders()</a>. </td></tr>
    <tr><td class="paramname">MDBX_ENOMEM</td><td>Out of memory. </td></tr>
    <tr><td class="paramname">MDBX_BUSY</td><td>The write transaction is already started by the current thread. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga04465e60a2337ce8472274b1a580b7fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04465e60a2337ce8472274b1a580b7fc">&#9670;&nbsp;</a></span>mdbx_txn_break()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_break </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks transaction as broken. </p>
<p>Function keeps the transaction handle and corresponding locks, but makes impossible to perform any operations within a broken transaction. Broken transaction must then be aborted explicitly later.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596" title="Abandon all the operations of the transaction instead of saving them.">mdbx_txn_abort()</a> </dd>
<dd>
<a class="el" href="group__c__transactions.html#gae9f34737fe60b0ba538d5a09b6a25c8d" title="Reset a read-only transaction.">mdbx_txn_reset()</a> </dd>
<dd>
<a class="el" href="group__c__transactions.html#ga3146a36cf1d0603cc6e3d52e97ec38a9" title="Commit all the operations of a transaction into the database.">mdbx_txn_commit()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success. </dd></dl>

</div>
</div>
<a id="ga3146a36cf1d0603cc6e3d52e97ec38a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3146a36cf1d0603cc6e3d52e97ec38a9">&#9670;&nbsp;</a></span>mdbx_txn_commit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mdbx_txn_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Commit all the operations of a transaction into the database. </p>
<p>If the current thread is not eligible to manage the transaction then the <a class="el" href="group__c__err.html#ggab5ba1469eef28a2e09ed243b608b11cea7f9a4b39c6651951ab40a33641eb8279">MDBX_THREAD_MISMATCH</a> error will returned. Otherwise the transaction will be committed and its handle is freed. If the transaction cannot be committed, it will be aborted with the corresponding error returned.</p>
<p>Thus, a result other than <a class="el" href="group__c__err.html#ggab5ba1469eef28a2e09ed243b608b11cea7f9a4b39c6651951ab40a33641eb8279">MDBX_THREAD_MISMATCH</a> means that the transaction is terminated:</p><ul>
<li>Resources are released;</li>
<li>Transaction handle is invalid;</li>
<li>Cursor(s) associated with transaction must not be used, except with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a" title="Renew a cursor handle.">mdbx_cursor_renew()</a> and <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>. Such cursor(s) must be closed explicitly by <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a> before or after transaction commit, either can be reused with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> until it will be explicitly closed by <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_RESULT_TRUE</td><td>Transaction was aborted since it should be aborted due to previous errors. </td></tr>
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_BAD_TXN</td><td>Transaction is already finished or never began. </td></tr>
    <tr><td class="paramname">MDBX_EBADSIGN</td><td>Transaction object has invalid signature, e.g. transaction was already terminated or memory was corrupted. </td></tr>
    <tr><td class="paramname">MDBX_THREAD_MISMATCH</td><td>Given transaction is not owned by current thread. </td></tr>
    <tr><td class="paramname">MDBX_EINVAL</td><td>Transaction handle is NULL. </td></tr>
    <tr><td class="paramname">MDBX_ENOSPC</td><td>No more disk space. </td></tr>
    <tr><td class="paramname">MDBX_EIO</td><td>A system-level I/O error occurred. </td></tr>
    <tr><td class="paramname">MDBX_ENOMEM</td><td>Out of memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaecaef6dc658fe61f3dd25c9dfcd805f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecaef6dc658fe61f3dd25c9dfcd805f5">&#9670;&nbsp;</a></span>mdbx_txn_env()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#gad5691bbd85b2cd95f66e527e46b50d3e">MDBX_NOTHROW_PURE_FUNCTION</a> <a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> <a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a>* mdbx_txn_env </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the transaction's MDBX_env. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaae026cce09969d2562cec28a6335f066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae026cce09969d2562cec28a6335f066">&#9670;&nbsp;</a></span>mdbx_txn_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#gad5691bbd85b2cd95f66e527e46b50d3e">MDBX_NOTHROW_PURE_FUNCTION</a> <a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_flags </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the transaction's flags. </p>
<p>This returns the flags associated with this transaction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A transaction flags, valid if input is an valid transaction, otherwise -1. </dd></dl>

</div>
</div>
<a id="gaf08d931ce9ee4d602937181947a6789a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf08d931ce9ee4d602937181947a6789a">&#9670;&nbsp;</a></span>mdbx_txn_get_userctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#gad5691bbd85b2cd95f66e527e46b50d3e">MDBX_NOTHROW_PURE_FUNCTION</a> <a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> void* mdbx_txn_get_userctx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an application information (a context pointer) associated with the transaction. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__transactions.html#ga2166d11669c64307195788186b090e41" title="Sets application information associated (a context pointer) with the transaction.">mdbx_txn_set_userctx()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>An transaction handle returned by <a class="el" href="group__c__transactions.html#ga2cfa3a3e97def47cafb4bc9b9e13da3d">mdbx_txn_begin_ex()</a> or <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer which was passed via the <code>context</code> parameter of <code><a class="el" href="group__c__transactions.html#ga2cfa3a3e97def47cafb4bc9b9e13da3d" title="Create a transaction with a user provided context pointer for use with the environment.">mdbx_txn_begin_ex()</a></code> or set by <a class="el" href="group__c__transactions.html#ga2166d11669c64307195788186b090e41">mdbx_txn_set_userctx()</a>, or <code>NULL</code> if something wrong. </dd></dl>

</div>
</div>
<a id="gaf3cd3707d0154f81f7f73484068246d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3cd3707d0154f81f7f73484068246d1">&#9670;&nbsp;</a></span>mdbx_txn_renew()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_renew </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renew a read-only transaction. </p>
<p>This acquires a new reader lock for a transaction handle that had been released by <a class="el" href="group__c__transactions.html#gae9f34737fe60b0ba538d5a09b6a25c8d">mdbx_txn_reset()</a>. It must be called before a reset transaction may be used again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_BAD_TXN</td><td>Transaction is already finished or never began. </td></tr>
    <tr><td class="paramname">MDBX_EBADSIGN</td><td>Transaction object has invalid signature, e.g. transaction was already terminated or memory was corrupted. </td></tr>
    <tr><td class="paramname">MDBX_THREAD_MISMATCH</td><td>Given transaction is not owned by current thread. </td></tr>
    <tr><td class="paramname">MDBX_EINVAL</td><td>Transaction handle is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae9f34737fe60b0ba538d5a09b6a25c8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9f34737fe60b0ba538d5a09b6a25c8d">&#9670;&nbsp;</a></span>mdbx_txn_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset a read-only transaction. </p>
<p>Abort the read-only transaction like <a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort()</a>, but keep the transaction handle. Therefore <a class="el" href="group__c__transactions.html#gaf3cd3707d0154f81f7f73484068246d1">mdbx_txn_renew()</a> may reuse the handle. This saves allocation overhead if the process will start a new read-only transaction soon, and also locking overhead if <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a79e1de212a2f3a1018c2da2c4b511cb8">MDBX_NOTLS</a> is in use. The reader table lock is released, but the table slot stays tied to its thread or <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a>. Use <a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort()</a> to discard a reset handle, and to free its lock table slot if <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a79e1de212a2f3a1018c2da2c4b511cb8">MDBX_NOTLS</a> is in use.</p>
<p>Cursors opened within the transaction must not be used again after this call, except with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> and <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>.</p>
<p>Reader locks generally don't interfere with writers, but they keep old versions of database pages allocated. Thus they prevent the old pages from being reused when writers commit new data, and so under heavy load the database size may grow much more rapidly than otherwise.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_BAD_TXN</td><td>Transaction is already finished or never began. </td></tr>
    <tr><td class="paramname">MDBX_EBADSIGN</td><td>Transaction object has invalid signature, e.g. transaction was already terminated or memory was corrupted. </td></tr>
    <tr><td class="paramname">MDBX_THREAD_MISMATCH</td><td>Given transaction is not owned by current thread. </td></tr>
    <tr><td class="paramname">MDBX_EINVAL</td><td>Transaction handle is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2166d11669c64307195788186b090e41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2166d11669c64307195788186b090e41">&#9670;&nbsp;</a></span>mdbx_txn_set_userctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_set_userctx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets application information associated (a context pointer) with the transaction. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__transactions.html#gaf08d931ce9ee4d602937181947a6789a" title="Returns an application information (a context pointer) associated with the transaction.">mdbx_txn_get_userctx()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>An transaction handle returned by <a class="el" href="group__c__transactions.html#ga2cfa3a3e97def47cafb4bc9b9e13da3d">mdbx_txn_begin_ex()</a> or <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>An arbitrary pointer for whatever the application needs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
