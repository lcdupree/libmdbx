<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libmdbx: Settings</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libmdbx
   &#160;<span id="projectnumber">Please fetch tags and/or use non-obsolete git version.Please fetch tags and/or use non-obsolete git version.Please fetch tags and/or use non-obsolete git version.0 (2022-04-13T11:05:50+03:00)</span>
   </div>
   <div id="projectbrief">One of the fastest compact embeddable key-value ACID database without WAL.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__c__settings.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Settings<div class="ingroups"><a class="el" href="group__c__api.html">C API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaeac57a77220d12b8dbf8ff7ef1e770cf"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__c__api.html#ga671855605968c3b1f89a72e2d7b71eb3">MDBX_option_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#gaeac57a77220d12b8dbf8ff7ef1e770cf">MDBX_option_t</a></td></tr>
<tr class="separator:gaeac57a77220d12b8dbf8ff7ef1e770cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa008fb6a361871a0a6e740fd814f5874"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#gaa008fb6a361871a0a6e740fd814f5874">mdbx_env_set_option</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, const <a class="el" href="group__c__api.html#ga671855605968c3b1f89a72e2d7b71eb3">MDBX_option_t</a> option, uint64_t value)</td></tr>
<tr class="memdesc:gaa008fb6a361871a0a6e740fd814f5874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the value of a runtime options for an environment.  <a href="group__c__settings.html#gaa008fb6a361871a0a6e740fd814f5874">More...</a><br /></td></tr>
<tr class="separator:gaa008fb6a361871a0a6e740fd814f5874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4141e15ff56b2019ae669ae072f432c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#ga4141e15ff56b2019ae669ae072f432c7">mdbx_env_get_option</a> (const <a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, const <a class="el" href="group__c__api.html#ga671855605968c3b1f89a72e2d7b71eb3">MDBX_option_t</a> option, uint64_t *pvalue)</td></tr>
<tr class="memdesc:ga4141e15ff56b2019ae669ae072f432c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the value of runtime options from an environment.  <a href="group__c__settings.html#ga4141e15ff56b2019ae669ae072f432c7">More...</a><br /></td></tr>
<tr class="separator:ga4141e15ff56b2019ae669ae072f432c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e64d98f7a8c3bdf7727627782f1be0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#ga7e64d98f7a8c3bdf7727627782f1be0a">mdbx_env_set_syncbytes</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, size_t threshold)</td></tr>
<tr class="memdesc:ga7e64d98f7a8c3bdf7727627782f1be0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets threshold to force flush the data buffers to disk, even any of <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a> flag in the environment.  <a href="group__c__settings.html#ga7e64d98f7a8c3bdf7727627782f1be0a">More...</a><br /></td></tr>
<tr class="separator:ga7e64d98f7a8c3bdf7727627782f1be0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga465c4c08a727aef512b8e0838b236d4a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#ga465c4c08a727aef512b8e0838b236d4a">mdbx_env_set_syncperiod</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, unsigned seconds_16dot16)</td></tr>
<tr class="memdesc:ga465c4c08a727aef512b8e0838b236d4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets relative period since the last unsteady commit to force flush the data buffers to disk, even of <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a> flag in the environment.  <a href="group__c__settings.html#ga465c4c08a727aef512b8e0838b236d4a">More...</a><br /></td></tr>
<tr class="separator:ga465c4c08a727aef512b8e0838b236d4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf24ab36da42e5b2b70d02f6027f6d331"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#gaf24ab36da42e5b2b70d02f6027f6d331">mdbx_env_set_flags</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, <a class="el" href="group__c__opening.html#ga9138119a904355d245777c4119534061">MDBX_env_flags_t</a> flags, <a class="el" href="group__api__macros.html#gabb452686968e48b67397da5f97445f5b">bool</a> onoff)</td></tr>
<tr class="memdesc:gaf24ab36da42e5b2b70d02f6027f6d331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set environment flags.  <a href="group__c__settings.html#gaf24ab36da42e5b2b70d02f6027f6d331">More...</a><br /></td></tr>
<tr class="separator:gaf24ab36da42e5b2b70d02f6027f6d331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79065e4f3c5fb2ad37a52b59224d583e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">mdbx_env_set_geometry</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, intptr_t size_lower, intptr_t size_now, intptr_t size_upper, intptr_t growth_step, intptr_t shrink_threshold, intptr_t pagesize)</td></tr>
<tr class="memdesc:ga79065e4f3c5fb2ad37a52b59224d583e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set all size-related parameters of environment, including page size and the min/max size of the memory map.  <a href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">More...</a><br /></td></tr>
<tr class="separator:ga79065e4f3c5fb2ad37a52b59224d583e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed9eb291552790f75087b3b097134ae0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#gaceae4b96a81a5b844a664ad8a61646e3">MDBX_DEPRECATED</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#gaed9eb291552790f75087b3b097134ae0">mdbx_env_set_mapsize</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, size_t size)</td></tr>
<tr class="separator:gaed9eb291552790f75087b3b097134ae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadefa6e24ea453f2631fb6cc7871cfda6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#gadefa6e24ea453f2631fb6cc7871cfda6">mdbx_env_set_maxreaders</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, unsigned readers)</td></tr>
<tr class="memdesc:gadefa6e24ea453f2631fb6cc7871cfda6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum number of threads/reader slots for for all processes interacts with the database.  <a href="group__c__settings.html#gadefa6e24ea453f2631fb6cc7871cfda6">More...</a><br /></td></tr>
<tr class="separator:gadefa6e24ea453f2631fb6cc7871cfda6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39ab74bb9bbfaab1cc586642fec4559a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#ga39ab74bb9bbfaab1cc586642fec4559a">mdbx_env_set_maxdbs</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, <a class="el" href="group__c__dbi.html#gabd1b4fbb286e8269b6ceb79dbacd9417">MDBX_dbi</a> dbs)</td></tr>
<tr class="memdesc:ga39ab74bb9bbfaab1cc586642fec4559a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum number of named databases for the environment.  <a href="group__c__settings.html#ga39ab74bb9bbfaab1cc586642fec4559a">More...</a><br /></td></tr>
<tr class="separator:ga39ab74bb9bbfaab1cc586642fec4559a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc6cbea17093abce0a055871492faf39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__settings.html#gabc6cbea17093abce0a055871492faf39">mdbx_env_set_userctx</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, void *ctx)</td></tr>
<tr class="memdesc:gabc6cbea17093abce0a055871492faf39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets application information (a context pointer) associated with the environment.  <a href="group__c__settings.html#gabc6cbea17093abce0a055871492faf39">More...</a><br /></td></tr>
<tr class="separator:gabc6cbea17093abce0a055871492faf39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gaeac57a77220d12b8dbf8ff7ef1e770cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeac57a77220d12b8dbf8ff7ef1e770cf">&#9670;&nbsp;</a></span>MDBX_option_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__c__api.html#ga671855605968c3b1f89a72e2d7b71eb3">MDBX_option_t</a> <a class="el" href="group__c__api.html#ga671855605968c3b1f89a72e2d7b71eb3">MDBX_option_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4141e15ff56b2019ae669ae072f432c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4141e15ff56b2019ae669ae072f432c7">&#9670;&nbsp;</a></span>mdbx_env_get_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_env_get_option </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__c__api.html#ga671855605968c3b1f89a72e2d7b71eb3">MDBX_option_t</a>&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>pvalue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the value of runtime options from an environment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>The option from <a class="el" href="group__c__settings.html#gaeac57a77220d12b8dbf8ff7ef1e770cf">MDBX_option_t</a> to get value of it. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pvalue</td><td>The address where the option's value will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__api.html#ga671855605968c3b1f89a72e2d7b71eb3" title="MDBX environment options.">MDBX_option_t</a> </dd>
<dd>
<a class="el" href="group__c__settings.html#ga4141e15ff56b2019ae669ae072f432c7" title="Gets the value of runtime options from an environment.">mdbx_env_get_option()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success. </dd></dl>

</div>
</div>
<a id="gaf24ab36da42e5b2b70d02f6027f6d331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf24ab36da42e5b2b70d02f6027f6d331">&#9670;&nbsp;</a></span>mdbx_env_set_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_env_set_flags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__opening.html#ga9138119a904355d245777c4119534061">MDBX_env_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__api__macros.html#gabb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>onoff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set environment flags. </p>
<p>This may be used to set some flags in addition to those from <a class="el" href="group__c__opening.html#gabb7dd3b10dd31639ba252df545e11768" title="Open an environment instance.">mdbx_env_open()</a>, or to unset these flags. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__statinfo.html#gadd6bfdb43e732b45d2f2fd9787258ea7" title="Get environment flags.">mdbx_env_get_flags()</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>In contrast to LMDB, the MDBX serialize threads via mutex while changing the flags. Therefore this function will be blocked while a write transaction running by other thread, or <a class="el" href="group__c__err.html#ggab5ba1469eef28a2e09ed243b608b11cea971ec6ff2bc8db798c920a3bde3bab5d">MDBX_BUSY</a> will be returned if function called within a write transaction.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>The <a class="el" href="group__c__opening.html#env_flags">env_flags</a> to change, bitwise OR'ed together. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">onoff</td><td>A non-zero value sets the flags, zero clears them.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_EINVAL</td><td>An invalid parameter was specified. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga79065e4f3c5fb2ad37a52b59224d583e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79065e4f3c5fb2ad37a52b59224d583e">&#9670;&nbsp;</a></span>mdbx_env_set_geometry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_env_set_geometry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>size_lower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>size_now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>size_upper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>growth_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>shrink_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>pagesize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set all size-related parameters of environment, including page size and the min/max size of the memory map. </p>
<p>In contrast to LMDB, the MDBX provide automatic size management of an database according the given parameters, including shrinking and resizing on the fly. From user point of view all of these just working. Nevertheless, it is reasonable to know some details in order to make optimal decisions when choosing parameters.</p>
<p>Both <a class="el" href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">mdbx_env_set_geometry()</a> and legacy <a class="el" href="group__c__settings.html#gaed9eb291552790f75087b3b097134ae0">mdbx_env_set_mapsize()</a> are inapplicable to read-only opened environment.</p>
<p>Both <a class="el" href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">mdbx_env_set_geometry()</a> and legacy <a class="el" href="group__c__settings.html#gaed9eb291552790f75087b3b097134ae0">mdbx_env_set_mapsize()</a> could be called either before or after <a class="el" href="group__c__opening.html#gabb7dd3b10dd31639ba252df545e11768">mdbx_env_open()</a>, either within the write transaction running by current thread or not:</p>
<ul>
<li><p class="startli">In case <a class="el" href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">mdbx_env_set_geometry()</a> or legacy <a class="el" href="group__c__settings.html#gaed9eb291552790f75087b3b097134ae0">mdbx_env_set_mapsize()</a> was called BEFORE <a class="el" href="group__c__opening.html#gabb7dd3b10dd31639ba252df545e11768">mdbx_env_open()</a>, i.e. for closed environment, then the specified parameters will be used for new database creation, or will be applied during opening if database exists and no other process using it.</p>
<p class="startli">If the database is already exist, opened with <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061aa516c74e6fed22c9812bb909c8c459ed">MDBX_EXCLUSIVE</a> or not used by any other process, and parameters specified by <a class="el" href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">mdbx_env_set_geometry()</a> are incompatible (i.e. for instance, different page size) then <a class="el" href="group__c__opening.html#gabb7dd3b10dd31639ba252df545e11768">mdbx_env_open()</a> will return <a class="el" href="group__c__err.html#ggab5ba1469eef28a2e09ed243b608b11ceaf8d7b0a9b9c20a0eab9850268f616666">MDBX_INCOMPATIBLE</a> error.</p>
<p class="startli">In another way, if database will opened read-only or will used by other process during calling <a class="el" href="group__c__opening.html#gabb7dd3b10dd31639ba252df545e11768">mdbx_env_open()</a> that specified parameters will silently discarded (open the database with <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061aa516c74e6fed22c9812bb909c8c459ed">MDBX_EXCLUSIVE</a> flag to avoid this).</p>
</li>
<li>In case <a class="el" href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">mdbx_env_set_geometry()</a> or legacy <a class="el" href="group__c__settings.html#gaed9eb291552790f75087b3b097134ae0">mdbx_env_set_mapsize()</a> was called after <a class="el" href="group__c__opening.html#gabb7dd3b10dd31639ba252df545e11768">mdbx_env_open()</a> WITHIN the write transaction running by current thread, then specified parameters will be applied as a part of write transaction, i.e. will not be completely visible to any others processes until the current write transaction has been committed by the current process. However, if transaction will be aborted, then the database file will be reverted to the previous size not immediately, but when a next transaction will be committed or when the database will be opened next time.</li>
<li>In case <a class="el" href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">mdbx_env_set_geometry()</a> or legacy <a class="el" href="group__c__settings.html#gaed9eb291552790f75087b3b097134ae0">mdbx_env_set_mapsize()</a> was called after <a class="el" href="group__c__opening.html#gabb7dd3b10dd31639ba252df545e11768">mdbx_env_open()</a> but OUTSIDE a write transaction, then MDBX will execute internal pseudo-transaction to apply new parameters (but only if anything has been changed), and changes be visible to any others processes immediately after succesful completion of function.</li>
</ul>
<p>Essentially a concept of "automatic size management" is simple and useful:</p><ul>
<li>There are the lower and upper bounds of the database file size;</li>
<li>There is the growth step by which the database file will be increased, in case of lack of space;</li>
<li>There is the threshold for unused space, beyond which the database file will be shrunk;</li>
<li>The size of the memory map is also the maximum size of the database;</li>
<li>MDBX will automatically manage both the size of the database and the size of memory map, according to the given parameters.</li>
</ul>
<p>So, there some considerations about choosing these parameters:</p><ul>
<li>The lower bound allows you to prevent database shrinking below certain reasonable size to avoid unnecessary resizing costs.</li>
<li>The upper bound allows you to prevent database growth above certain reasonable size. Besides, the upper bound defines the linear address space reservation in each process that opens the database. Therefore changing the upper bound is costly and may be required reopening environment in case of <a class="el" href="group__c__err.html#ggab5ba1469eef28a2e09ed243b608b11cea10c8033f7aeb8809747cc517dce311e0">MDBX_UNABLE_EXTEND_MAPSIZE</a> errors, and so on. Therefore, this value should be chosen reasonable large, to accommodate future growth of the database.</li>
<li>The growth step must be greater than zero to allow the database to grow, but also reasonable not too small, since increasing the size by little steps will result a large overhead.</li>
<li>The shrink threshold must be greater than zero to allow the database to shrink but also reasonable not too small (to avoid extra overhead) and not less than growth step to avoid up-and-down flouncing.</li>
<li>The current size (i.e. <code>size_now</code> argument) is an auxiliary parameter for simulation legacy <a class="el" href="group__c__settings.html#gaed9eb291552790f75087b3b097134ae0">mdbx_env_set_mapsize()</a> and as workaround Windows issues (see below).</li>
</ul>
<p>Unfortunately, Windows has is a several issue with resizing of memory-mapped file:</p><ul>
<li>Windows unable shrinking a memory-mapped file (i.e memory-mapped section) in any way except unmapping file entirely and then map again. Moreover, it is impossible in any way when a memory-mapped file is used more than one process.</li>
<li>Windows does not provide the usual API to augment a memory-mapped file (i.e. a memory-mapped partition), but only by using "Native API" in an undocumented way.</li>
</ul>
<p>MDBX bypasses all Windows issues, but at a cost:</p><ul>
<li>Ability to resize database on the fly requires an additional lock and release <code>SlimReadWriteLock</code> during each read-only transaction.</li>
<li>During resize all in-process threads should be paused and then resumed.</li>
<li>Shrinking of database file is performed only when it used by single process, i.e. when a database closes by the last process or opened by the first. = Therefore, the size_now argument may be useful to set database size by the first process which open a database, and thus avoid expensive remapping further.</li>
</ul>
<p>For create a new database with particular parameters, including the page size, <a class="el" href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">mdbx_env_set_geometry()</a> should be called after <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a> and before <a class="el" href="group__c__opening.html#gabb7dd3b10dd31639ba252df545e11768">mdbx_env_open()</a>. Once the database is created, the page size cannot be changed. If you do not specify all or some of the parameters, the corresponding default values will be used. For instance, the default for database size is 10485760 bytes.</p>
<p>If the mapsize is increased by another process, MDBX silently and transparently adopt these changes at next transaction start. However, <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a> will return <a class="el" href="group__c__err.html#ggab5ba1469eef28a2e09ed243b608b11cea10c8033f7aeb8809747cc517dce311e0">MDBX_UNABLE_EXTEND_MAPSIZE</a> if new mapping size could not be applied for current process (for instance if address space is busy). Therefore, in the case of <a class="el" href="group__c__err.html#ggab5ba1469eef28a2e09ed243b608b11cea10c8033f7aeb8809747cc517dce311e0">MDBX_UNABLE_EXTEND_MAPSIZE</a> error you need close and reopen the environment to resolve error.</p>
<dl class="section note"><dt>Note</dt><dd>Actual values may be different than your have specified because of rounding to specified database page size, the system page size and/or the size of the system virtual memory management unit. You can get actual values by <a class="el" href="group__c__extra.html#gae761676e8dd87488002ab1cb8d7ff0be">mdbx_env_sync_ex()</a> or see by using the tool <code>mdbx_chk</code> with the <code>-v</code> option.</dd></dl>
<p>Legacy <a class="el" href="group__c__settings.html#gaed9eb291552790f75087b3b097134ae0">mdbx_env_set_mapsize()</a> correspond to calling <a class="el" href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">mdbx_env_set_geometry()</a> with the arguments <code>size_lower</code>, <code>size_now</code>, <code>size_upper</code> equal to the <code>size</code> and <code>-1</code> (i.e. default) for all other parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size_lower</td><td>The lower bound of database size in bytes. Zero value means "minimal acceptable", and negative means "keep current or use default".</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size_now</td><td>The size in bytes to setup the database size for now. Zero value means "minimal acceptable", and negative means "keep current or use default". So, it is recommended always pass -1 in this argument except some special cases.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size_upper</td><td>The upper bound of database size in bytes. Zero value means "minimal acceptable", and negative means "keep current or use default". It is recommended to avoid change upper bound while database is used by other processes or threaded (i.e. just pass -1 in this argument except absolutely necessary). Otherwise you must be ready for <a class="el" href="group__c__err.html#ggab5ba1469eef28a2e09ed243b608b11cea10c8033f7aeb8809747cc517dce311e0">MDBX_UNABLE_EXTEND_MAPSIZE</a> error(s), unexpected pauses during remapping and/or system errors like "address busy", and so on. In other words, there is no way to handle a growth of the upper bound robustly because there may be a lack of appropriate system resources (which are extremely volatile in a multi-process multi-threaded environment).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">growth_step</td><td>The growth step in bytes, must be greater than zero to allow the database to grow. Negative value means "keep current or use default".</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shrink_threshold</td><td>The shrink threshold in bytes, must be greater than zero to allow the database to shrink and greater than growth_step to avoid shrinking right after grow. Negative value means "keep current
                              or use default". Default is 2*growth_step.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pagesize</td><td>The database page size for new database creation or -1 otherwise. Once the database is created, the page size cannot be changed. Must be power of 2 in the range between <a class="el" href="group__c__api.html#gga190b5c6e7f916f612c5819e1ab8acfdfad5226a9d20e598c026beabe913090cd8">MDBX_MIN_PAGESIZE</a> and <a class="el" href="group__c__api.html#gga190b5c6e7f916f612c5819e1ab8acfdfa167faeb1842bdc6ada334963520fc4dd">MDBX_MAX_PAGESIZE</a>. Zero value means "minimal acceptable", and negative means "keep current or use default".</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_EINVAL</td><td>An invalid parameter was specified, or the environment has an active write transaction. </td></tr>
    <tr><td class="paramname">MDBX_EPERM</td><td>Two specific cases for Windows: 1) Shrinking was disabled before via geometry settings and now it enabled, but there are reading threads that don't use the additional <code>SRWL</code> (which is required to avoid Windows issues). 2) Temporary close memory mapped is required to change geometry, but there read transaction(s) is running and no corresponding thread(s) could be suspended since the <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a79e1de212a2f3a1018c2da2c4b511cb8">MDBX_NOTLS</a> mode is used. </td></tr>
    <tr><td class="paramname">MDBX_EACCESS</td><td>The environment opened in read-only. </td></tr>
    <tr><td class="paramname">MDBX_MAP_FULL</td><td>Specified size smaller than the space already consumed by the environment. </td></tr>
    <tr><td class="paramname">MDBX_TOO_LARGE</td><td>Specified size is too large, i.e. too many pages for given size, or a 32-bit process requests too much bytes for the 32-bit address space. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaed9eb291552790f75087b3b097134ae0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed9eb291552790f75087b3b097134ae0">&#9670;&nbsp;</a></span>mdbx_env_set_mapsize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#gaceae4b96a81a5b844a664ad8a61646e3">MDBX_DEPRECATED</a> int mdbx_env_set_mapsize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd>Please use <a class="el" href="group__c__settings.html#ga79065e4f3c5fb2ad37a52b59224d583e">mdbx_env_set_geometry()</a> instead. </dd></dl>

</div>
</div>
<a id="ga39ab74bb9bbfaab1cc586642fec4559a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39ab74bb9bbfaab1cc586642fec4559a">&#9670;&nbsp;</a></span>mdbx_env_set_maxdbs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mdbx_env_set_maxdbs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__dbi.html#gabd1b4fbb286e8269b6ceb79dbacd9417">MDBX_dbi</a>&#160;</td>
          <td class="paramname"><em>dbs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the maximum number of named databases for the environment. </p>
<p>This function is only needed if multiple databases will be used in the environment. Simpler applications that use the environment as a single unnamed database can ignore this option. This function may only be called after <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a> and before <a class="el" href="group__c__opening.html#gabb7dd3b10dd31639ba252df545e11768">mdbx_env_open()</a>.</p>
<p>Currently a moderate number of slots are cheap but a huge number gets expensive: 7-120 words per transaction, and every <a class="el" href="group__c__dbi.html#ga9bef4a9fdf27655e9343bbbf8b6fc5a1">mdbx_dbi_open()</a> does a linear search of the opened slots. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__statinfo.html#gaa6da1288199bc5baff69822048bdef8e" title="Get the maximum number of named databases for the environment.">mdbx_env_get_maxdbs()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dbs</td><td>The maximum number of databases.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_EINVAL</td><td>An invalid parameter was specified. </td></tr>
    <tr><td class="paramname">MDBX_EPERM</td><td>The environment is already open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadefa6e24ea453f2631fb6cc7871cfda6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadefa6e24ea453f2631fb6cc7871cfda6">&#9670;&nbsp;</a></span>mdbx_env_set_maxreaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mdbx_env_set_maxreaders </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>readers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the maximum number of threads/reader slots for for all processes interacts with the database. </p>
<p>This defines the number of slots in the lock table that is used to track readers in the the environment. The default is about 100 for 4K system page size. Starting a read-only transaction normally ties a lock table slot to the current thread until the environment closes or the thread exits. If <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a79e1de212a2f3a1018c2da2c4b511cb8">MDBX_NOTLS</a> is in use, <a class="el" href="group__c__transactions.html#ga9621bd463ec9efb2373f25dfb016938a">mdbx_txn_begin()</a> instead ties the slot to the <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> object until it or the <a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> object is destroyed. This function may only be called after <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a> and before <a class="el" href="group__c__opening.html#gabb7dd3b10dd31639ba252df545e11768">mdbx_env_open()</a>, and has an effect only when the database is opened by the first process interacts with the database. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__statinfo.html#ga14f2fdb1ea1aeb11872d498c9ea7a17e" title="Get the maximum number of threads/reader slots for the environment.">mdbx_env_get_maxreaders()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">readers</td><td>The maximum number of reader lock table slots.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_EINVAL</td><td>An invalid parameter was specified. </td></tr>
    <tr><td class="paramname">MDBX_EPERM</td><td>The environment is already open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa008fb6a361871a0a6e740fd814f5874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa008fb6a361871a0a6e740fd814f5874">&#9670;&nbsp;</a></span>mdbx_env_set_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_env_set_option </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__c__api.html#ga671855605968c3b1f89a72e2d7b71eb3">MDBX_option_t</a>&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the value of a runtime options for an environment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>The option from <a class="el" href="group__c__settings.html#gaeac57a77220d12b8dbf8ff7ef1e770cf">MDBX_option_t</a> to set value of it. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The value of option to be set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__api.html#ga671855605968c3b1f89a72e2d7b71eb3" title="MDBX environment options.">MDBX_option_t</a> </dd>
<dd>
<a class="el" href="group__c__settings.html#ga4141e15ff56b2019ae669ae072f432c7" title="Gets the value of runtime options from an environment.">mdbx_env_get_option()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success. </dd></dl>

</div>
</div>
<a id="ga7e64d98f7a8c3bdf7727627782f1be0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e64d98f7a8c3bdf7727627782f1be0a">&#9670;&nbsp;</a></span>mdbx_env_set_syncbytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mdbx_env_set_syncbytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets threshold to force flush the data buffers to disk, even any of <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a> flag in the environment. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__statinfo.html#ga4ce9ac9aec334cdf630a0a3a80fb542f" title="Get threshold to force flush the data buffers to disk, even any of MDBX_SAFE_NOSYNC flag in the envir...">mdbx_env_get_syncbytes</a> </dd>
<dd>
<a class="el" href="group__c__api.html#gga671855605968c3b1f89a72e2d7b71eb3a59f87bdc6be137cc4507bea7171d7a85" title="Controls interprocess/shared threshold to force flush the data buffers to disk, if MDBX_SAFE_NOSYNC i...">MDBX_opt_sync_bytes</a></dd></dl>
<p>The threshold value affects all processes which operates with given environment until the last process close environment or a new value will be settled.</p>
<p>Data is always written to disk when <a class="el" href="group__c__transactions.html#ga3146a36cf1d0603cc6e3d52e97ec38a9">mdbx_txn_commit()</a> is called, but the operating system may keep it buffered. MDBX always flushes the OS buffers upon commit as well, unless the environment was opened with <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a>, <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061aec1ed5ccbf0626391088f787ffc4962c">MDBX_UTTERLY_NOSYNC</a> or in part <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a323dae93247c4977621be38614d77b38">MDBX_NOMETASYNC</a>.</p>
<p>The default is 0, than mean no any threshold checked, and no additional flush will be made.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e" title="Create an MDBX environment instance.">mdbx_env_create()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">threshold</td><td>The size in bytes of summary changes when a synchronous flush would be made.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success. </dd></dl>

</div>
</div>
<a id="ga465c4c08a727aef512b8e0838b236d4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga465c4c08a727aef512b8e0838b236d4a">&#9670;&nbsp;</a></span>mdbx_env_set_syncperiod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mdbx_env_set_syncperiod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>seconds_16dot16</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets relative period since the last unsteady commit to force flush the data buffers to disk, even of <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a> flag in the environment. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__statinfo.html#ga14f5c91d187bb4fefbd57a23545b7f5c" title="Get relative period since the last unsteady commit to force flush the data buffers to disk,...">mdbx_env_get_syncperiod</a> </dd>
<dd>
<a class="el" href="group__c__api.html#gga671855605968c3b1f89a72e2d7b71eb3abd7019e0ab56b583338765413e755c0c" title="Controls interprocess/shared relative period since the last unsteady commit to force flush the data b...">MDBX_opt_sync_period</a></dd></dl>
<p>The relative period value affects all processes which operates with given environment until the last process close environment or a new value will be settled.</p>
<p>Data is always written to disk when <a class="el" href="group__c__transactions.html#ga3146a36cf1d0603cc6e3d52e97ec38a9">mdbx_txn_commit()</a> is called, but the operating system may keep it buffered. MDBX always flushes the OS buffers upon commit as well, unless the environment was opened with <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a586d75ff2fd68aed647a60ea7984ed85">MDBX_SAFE_NOSYNC</a> or in part <a class="el" href="group__c__opening.html#gga9138119a904355d245777c4119534061a323dae93247c4977621be38614d77b38">MDBX_NOMETASYNC</a>.</p>
<p>Settled period don't checked asynchronously, but only by the <a class="el" href="group__c__transactions.html#ga3146a36cf1d0603cc6e3d52e97ec38a9">mdbx_txn_commit()</a> and <a class="el" href="group__c__extra.html#ga2d26ce1c3337fd792ed5ca2b598d163c">mdbx_env_sync()</a> functions. Therefore, in cases where transactions are committed infrequently and/or irregularly, polling by <a class="el" href="group__c__extra.html#ga2d26ce1c3337fd792ed5ca2b598d163c">mdbx_env_sync()</a> may be a reasonable solution to timeout enforcement.</p>
<p>The default is 0, than mean no any timeout checked, and no additional flush will be made.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seconds_16dot16</td><td>The period in 1/65536 of second when a synchronous flush would be made since the last unsteady commit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success. </dd></dl>

</div>
</div>
<a id="gabc6cbea17093abce0a055871492faf39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc6cbea17093abce0a055871492faf39">&#9670;&nbsp;</a></span>mdbx_env_set_userctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__c__api.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_env_set_userctx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets application information (a context pointer) associated with the environment. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__statinfo.html#ga0965603ed3f51875dcac79445f034041" title="Returns an application information (a context pointer) associated with the environment.">mdbx_env_get_userctx()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__opening.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>An arbitrary pointer for whatever the application needs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
